// Pathfinding.cpp : 此文件包含 "main" 函数。程序执行将在此处开始并结束。
//

#include "pch.h"
#include <iostream>
#include "algorithms.h"

int **m1 = new int*[8]{
	new int[8]{1,1,1,1,1,0,1,1},
	new int[8]{1,1,1,1,1,0,0,1},
	new int[8]{1,1,1,1,1,1,1,1},
	new int[8]{1,1,1,1,1,1,1,1},
	new int[8]{0,0,1,1,0,0,1,1},
	new int[8]{1,0,1,1,0,0,1,1},
	new int[8]{1,0,1,1,1,1,1,1},
	new int[8]{1,1,1,1,1,1,1,1},
};
Map *map1 = new Map(8, 8, m1, Coordinate(0, 0), Coordinate(7, 7));

int **m2 = new int*[8]{
	new int[8]{1,1,1,1,1,0,1,1},
	new int[8]{1,1,0,1,1,0,1,1},
	new int[8]{1,0,0,1,1,1,1,1},
	new int[8]{1,1,1,1,1,0,1,0},
	new int[8]{0,1,0,1,1,0,1,1},
	new int[8]{1,1,0,1,0,1,1,1},
	new int[8]{1,1,0,1,1,0,1,1},
	new int[8]{1,1,0,0,1,1,1,1},
};
Map* map2 = new Map(8, 8, m2, Coordinate(0, 0), Coordinate(7, 7));


int **m3 = new int*[16]{
	new int[16]{1,1,0,0,1,0,1,1,1,1,0,1,1,0,1,1},
	new int[16]{1,1,0,1,1,0,1,1,1,1,0,1,1,0,1,1},
	new int[16]{0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1},
	new int[16]{1,1,1,1,1,0,1,1,0,1,1,1,1,0,0,0},
	new int[16]{0,1,0,0,1,0,1,1,0,1,0,1,1,0,1,1},
	new int[16]{1,1,0,1,1,0,1,1,0,1,0,1,1,1,1,1},
	new int[16]{1,1,0,1,1,1,0,0,0,0,0,1,1,0,1,1},
	new int[16]{1,1,0,1,1,0,1,1,0,1,0,0,1,1,1,1},
	new int[16]{1,1,0,1,1,0,1,1,0,1,0,1,1,1,1,1},
	new int[16]{0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,0},
	new int[16]{1,1,0,1,1,0,1,1,1,1,1,1,1,0,1,1},
	new int[16]{1,1,0,1,1,1,1,1,0,1,1,1,1,0,0,1},
	new int[16]{0,0,1,1,1,1,1,0,0,1,0,1,1,0,0,1},
	new int[16]{1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,1},
	new int[16]{1,1,0,0,1,0,1,1,1,1,0,1,1,0,1,1},
	new int[16]{1,1,0,1,1,0,1,1,1,1,0,1,1,0,1,1},

};
Map* map3 = new Map(16, 16, m3, Coordinate(0, 0), Coordinate(15, 15));

int **m4 = new int*[16]{

	new int[16]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[16]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[16]{1,1,1,1,0,1,1,1,1,0,0,0,0,1,1,1},
	new int[16]{1,1,1,1,0,1,1,1,1,0,0,0,0,1,1,1},	
	new int[16]{1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1},
	new int[16]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[16]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[16]{1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1},	
	new int[16]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[16]{1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1},
	new int[16]{1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1},
	new int[16]{1,1,1,0,0,1,1,1,1,1,0,0,0,1,1,1},	
	new int[16]{1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1},
	new int[16]{1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1},
	new int[16]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[16]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},


};
Map* map4 = new Map(16, 16, m4, Coordinate(8, 8), Coordinate(15, 15));

int **m5 = new int*[32]{
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1},
	new int[32]{1,1,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1},
	new int[32]{1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1},
	new int[32]{1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1},
	new int[32]{1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1},
	new int[32]{1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	new int[32]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
};

Map* map5 = new Map(32, 32, m5, Coordinate(16, 16), Coordinate(31, 31));

int **m6 = new int*[32]{
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,1,1,1,1,1,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,1,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1},
	new int[32]{1,1,1,0,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,1,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,1,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,1,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1},
	new int[32]{1,0,1,1,1,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1},
	new int[32]{1,0,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1},
	new int[32]{1,0,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,1,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,1,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	new int[32]{1,0,1,0,1,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1},
	
};

Map* map6 = new Map(32, 32, m6, Coordinate(0, 0), Coordinate(31, 31));

Algorithm * algo;

Map* maps[] = { map1,map2,map3,map4,map5,map6 };
int i = 1;

int main()
{
	for (int i = 1; i <= 6; i++) {
		cout << i << endl;
		maps[i - 1]->DisplayMap();
		cout << endl;
	}

	cout << "choose one map to run:(input index)" << endl;
	int map_num;
	cin >> map_num;
	Map* map = maps[map_num - 1];
	cout << endl;

	cout << "choose one algorithm to run:(input index)" << endl;
	cout << "1.DFS" << endl;
	cout << "2.BFS" << endl;
	cout << "3.Dijkstra" << endl;
	cout << "4.Astar" << endl;
	cout << "5.BestFirst" << endl;
	cout << "6.Depth Direction Astar" << endl;
	cout << "7.Improved Astar" << endl;
	int algo_num;
	cin >> algo_num;
	switch (algo_num)
	{
	case 1:
		algo = new DFS(map);
		break;
	case 2:
		algo = new BFS(map);
		break;
	case 3:
		algo = new Dijkstra(map);
		break;
	case 4:
		algo = new Astar(map);
		break;
	case 5:
		algo = new BestFirst(map);
		break;
	case 6:
		algo = new DDAstar(map);
		break;
	case 7:
		algo = new IAstar(map);
		break;
	default:
		break;
	}

	cout << endl;
	algo->MoveToTarget();
	for (auto map : maps)
		delete map;
	delete algo;
	return 0;
}

